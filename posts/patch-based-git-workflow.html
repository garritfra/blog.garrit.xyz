<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-780832039"/><meta charSet="utf-8" class="jsx-780832039"/><title class="jsx-780832039">The Patch-Based Git Workflow</title><meta name="Description" content="Random thoughts, tips and rants about software" class="jsx-780832039"/><link rel="icon" type="image/svg+xml" href="/favicon.svg" class="jsx-780832039"/><script async="" defer="" data-domain="blog.garrit.xyz" src="https://analytics.slashdev.space/js/plausible.js" class="jsx-780832039"></script><meta name="next-head-count" content="6"/><noscript data-n-css="true"></noscript><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/pages/_app-b4e5177aa9e4067f692d.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/114a5b995a4f3b29491ffc28eee0889be38452e1.eae47726751bceed5de4.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/pages/posts/%5Bpost%5D-23f93f8092d4edb56596.js" as="script"/><style id="__jsx-780832039">@import url("https://fonts.googleapis.com/css?family=Work+Sans&display=swap");*{box-sizing:inherit;}html{box-sizing:border-box;overflow-y:scroll;}body{margin:0;font-family:"Work Sans","Helvetica Neue",Helvetica,sans-serif;overflow-x:hidden;color:#000;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}a{-webkit-text-decoration:none;text-decoration:none;color:inherit;-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;}a:hover{-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;opacity:0.5;-webkit-text-decoration-color:inherit;text-decoration-color:inherit;}ul{list-style:none;margin:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;list-style-position:outside;list-style-image:none;}ol{margin:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;list-style-position:outside;list-style-image:none;}ul,ol,p{margin-bottom:1.45rem;}img{max-width:100%;}img,figure,table,fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.42;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem;}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}strong{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li>ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li>ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li>p{margin-bottom:calc(1.45rem / 2);}code{line-height:1.45rem;}p code{background:hsla(0,0%,0%,0.1);padding:0 0.4rem;}@media (prefers-reduced-motion){*{-webkit-transition:none !important;transition:none !important;}}h1,h2,h3,h4,h5,h6,p{font-family:"Work Sans","Helvetica Neue",Helvetica,sans-serif;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;text-rendering:optimizeLegibility;}h1,h2{font-weight:500;}h1{font-size:2rem;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1.1875;}h2{font-size:1.7rem;-webkit-letter-spacing:-0.75px;-moz-letter-spacing:-0.75px;-ms-letter-spacing:-0.75px;letter-spacing:-0.75px;line-height:1.2;}h3{font-size:1.2rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.1875;color:#a0a0a0;font-weight:normal;}p{font-size:1.2rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.5;color:#464646;}@media (min-width:1280px){h1{font-size:2rem;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1.1875;}h2{font-size:1.5rem;-webkit-letter-spacing:-0.75px;-moz-letter-spacing:-0.75px;-ms-letter-spacing:-0.75px;letter-spacing:-0.75px;line-height:1.1667;}h3{font-size:1rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.1875;color:#a0a0a0;font-weight:normal;}p{line-height:1.4375;}}.blog__body a,.blog__footer a{-webkit-text-decoration:underline;text-decoration:underline;}@media (prefers-color-scheme:dark){:root{background-color:#161618;color:#dbd7db;}html{-webkit-scrollbar-color:#dbd7db #161618 !important;-moz-scrollbar-color:#dbd7db #161618 !important;-ms-scrollbar-color:#dbd7db #161618 !important;scrollbar-color:#dbd7db #161618 !important;}h1,h2,h3,h4,p,pre,a,ul,li,blog__body>*{color:#dbd7db;}.button__link{background-color:#67676c;}a{color:#dbd7db;}}</style><style id="__jsx-1881191552">h1.jsx-1881191552{margin-bottom:0;}h1.jsx-1881191552:hover{cursor:pointer;}nav.jsx-1881191552{padding:1.5rem 1.25rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:768px){.header.jsx-1881191552{height:100vh;position:fixed;left:0;top:0;}.nav.jsx-1881191552{padding:2rem;width:30vw;height:100%;border-bottom:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><style id="__jsx-1347931467">.blog.jsx-1347931467 h1.jsx-1347931467{margin-bottom:0.7rem;}.blog__hero.jsx-1347931467{min-height:300px;height:60vh;width:100%;margin:0;overflow:hidden;}.blog__hero.jsx-1347931467 img.jsx-1347931467{margin-bottom:0;object-fit:cover;min-height:100%;min-width:100%;object-position:center;}.blog__info.jsx-1347931467{padding:1.5rem 1.25rem;width:100%;max-width:768px;margin:0 auto;}.blog__info.jsx-1347931467 h1.jsx-1347931467{margin-bottom:0.66rem;}.blog__info.jsx-1347931467 h3.jsx-1347931467{margin-bottom:0;}.blog__body.jsx-1347931467{width:100%;padding:0 1.25rem;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.blog__body.jsx-1347931467 a.jsx-1347931467{padding-bottom:1.5rem;}.blog__body.jsx-1347931467:last-child{margin-bottom:0;}.blog__body.jsx-1347931467 h1.jsx-1347931467 h2.jsx-1347931467 h3.jsx-1347931467 h4.jsx-1347931467 h5.jsx-1347931467 h6.jsx-1347931467 p.jsx-1347931467{font-weight:normal;}.blog__body.jsx-1347931467 ul.jsx-1347931467{list-style:initial;}.blog__body.jsx-1347931467 ul.jsx-1347931467 ol.jsx-1347931467{margin-left:1.25rem;margin-bottom:1.25rem;padding-left:1.45rem;}.blog__footer.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1.5rem 1.25rem;width:100%;max-width:800px;margin:0 auto;}.blog__footer.jsx-1347931467 h2.jsx-1347931467{margin-bottom:0;}.blog__footer.jsx-1347931467 a.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.blog__footer.jsx-1347931467 a.jsx-1347931467 svg.jsx-1347931467{width:20px;}@media (max-width:768px){.blog__footer.jsx-1347931467{display:none;}}@media (min-width:768px){.blog.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.blog__body.jsx-1347931467{max-width:800px;padding:0 2rem;}.blog__body.jsx-1347931467 span.jsx-1347931467{width:100%;margin:1.5rem auto;}.blog__body.jsx-1347931467 ul.jsx-1347931467 ol.jsx-1347931467{margin-left:1.5rem;margin-bottom:1.5rem;}.blog__hero.jsx-1347931467{min-height:600px;height:75vh;}.blog__info.jsx-1347931467{text-align:center;padding:2rem 0;}.blog__info.jsx-1347931467 h1.jsx-1347931467{max-width:500px;margin:0 auto 0.66rem auto;}.blog__footer.jsx-1347931467{padding:2.25rem;}}@media (min-width:1440px){.blog__hero.jsx-1347931467{height:70vh;}.blog__info.jsx-1347931467{padding:3rem 0;}.blog__footer.jsx-1347931467{padding:2rem 2rem 3rem 2rem;}}</style><style id="__jsx-3553209867">img.jsx-3553209867{width:12rem;}Link.jsx-3553209867{margin:1rem;}@media (max-width:767px){.profile.jsx-3553209867{padding:1.5rem 1.25rem;}}</style><style id="__jsx-3605278554">.layout.jsx-3605278554{overflow-x:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.layout.jsx-3605278554 .info_page.jsx-3605278554{color:#ebebeb;}.content.jsx-3605278554{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:768px){.layout.jsx-3605278554{display:block;}.content.jsx-3605278554{-webkit-box-flex:none;-webkit-flex-grow:none;-ms-flex-positive:none;flex-grow:none;width:70vw;margin-left:30vw;}}</style></head><body><div id="__next"><section class="jsx-3605278554 layout"><header class="jsx-1881191552 header"><nav role="navigation" aria-label="main navigation" class="jsx-1881191552 nav"><a class="jsx-1881191552" href="/"><h1 class="jsx-1881191552">~/garrit</h1></a></nav></header><div class="jsx-3605278554 content"><article class="jsx-1347931467 blog"><div class="jsx-1347931467 blog__info"><h1 class="jsx-1347931467">The Patch-Based Git Workflow</h1><h3 class="jsx-1347931467">Sep 28 2020</h3></div><div class="jsx-1347931467 blog__body"><p>If you have ever contributed to an open source project, chances are you have opened a pull request on GitHub or a similar platform to present your code to the maintainers. While this is a very approachable way of getting your code reviewed, some projects have decided against using pull requests and instead accept patches via email.</p><h2>An introduction to patches</h2><p>A patch is essentially a git commit expressed in plain text. It describes what commit the change is based on, and what has changed. A basic patch looks like this:</p><pre><code>From 92132241233033a123c4fa833449d6a0d550219c Mon Sep 17 00:00:00 2001
From: Bob &lt;bob@example.com&gt;
Date: Tue, 25 May 2009 15:42:16 +0200
Subject: [PATCH 1/2] first change

---
 test.txt |    1 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/test.txt b/test.txt
index 7634da4..270eb95 100644
--- a/test.txt
+++ b/test.txt
@@ -1 +1 @@
-Hallo Bob
+Hallo Alice!</code></pre><p>As you can see, it is very readable for both the reviewer and the machine.</p><h2>Sending and receiving patches</h2><p>The easiest way you can generate a patch from a commit is to use <code>git-format-patch</code>:</p><pre><code>git format-patch HEAD^</code></pre><p>This will generate a <code>.patch</code> file, that can be embedded into an email and sent to the maintainers. Oftentimes they will then reply to your mail with some inline comments about your code.</p><p>To simplify this process further, git has the <code>send-email</code> command, which let&#x27;s you send the patch directly to someone without needing to embed it manually. I won&#x27;t go into details about this, but there is a <a href="https://git-send-email.io/">well written guide</a> on how to set it up.</p><p>If you have received a patch from someone, you can apply it to your tree with the <code>am</code> (apply mail) command:</p><pre><code>git am &lt; 0001-first-change.patch</code></pre><p>check your <code>git log</code> to see the patch in form of the latest commit.</p><h2>Why even bother</h2><p>You might think that this is just a silly and outdated approach to collaborative development. &quot;Why not simply open a pull request?&quot; you might ask. Some projects, especially low-level oriented ones like the Linux kernel, do not want to rely on third-party platforms like GitHub to host their code, with good reasons:</p><ol><li>Everyone can participate! You don&#x27;t need to register an account on some proprietary website to collaborate in a project that uses a patch-based workflow. You don&#x27;t even have to expose your identity, if you don&#x27;t want to. All you need is an email-address, and frankly most of us have one.</li><li>It&#x27;s plain simple! Once you get used to generating and applying patches on the command line, it is in fact easier and faster than opening a pull request in some clunky GUI. It doesn&#x27;t get simpler than plain text.</li><li>It is rewarding! Once you have submitted a patch to a project, there is no better feeling than getting a simple &quot;Applied, thanks!&quot; response from a maintainer. And if it&#x27;s a response that contains feedback rather than an approval, it feels even better to submit that reworked code again and get it eventually applied.</li></ol><h2>Conclusion</h2><p>The patch-based workflow is an alternative way to collaborate with developers. If it helps you in your day to day business depends on the projects you are contributing to, but in the end it is always good to have many tools under your belt.</p><p class="jsx-1347931467">If you enjoyed this post, consider<!-- --> <a href="https://donate.slashdev.space" class="jsx-1347931467">buying me a coffee</a>! Got comments? Drop a mail in my<!-- --> <a href="https://lists.sr.ht/~garritfra/public-inbox" class="jsx-1347931467">public inbox</a>, or send me a message on<!-- --> <a href="https://matrix.to/#/@garrit:matrix.slashdev.space" class="jsx-1347931467">Matrix</a>.</p></div><div class="jsx-1347931467 blog__footer"><h2 class="jsx-1347931467">Written By: Garrit Franke</h2></div></article></div><div class="jsx-3553209867 profile"><h2 class="jsx-3553209867">Garrit Franke</h2><p class="jsx-3553209867">Random thoughts, tips and rants about software</p><a href="https://lists.sr.ht/~garritfra/public-inbox">Public Inbox</a><br class="jsx-3553209867"/><a href="https://matrix.to/#/@garrit:matrix.slashdev.space">Matrix</a><br class="jsx-3553209867"/><a href="https://garrit.xyz/">Website</a><br class="jsx-3553209867"/><a href="https://github.com/garritfra">Github</a><br class="jsx-3553209867"/><a href="https://www.linkedin.com/in/garritfranke">LinkedIn</a><br class="jsx-3553209867"/><a href="/rss.xml">RSS</a></div></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteTitle":"~/garrit","frontmatter":{"title":"The Patch-Based Git Workflow","date":"2020-09-28"},"markdownBody":"\nIf you have ever contributed to an open source project, chances are you have opened a pull request on GitHub or a similar platform to present your code to the maintainers. While this is a very approachable way of getting your code reviewed, some projects have decided against using pull requests and instead accept patches via email.\n\n## An introduction to patches\n\nA patch is essentially a git commit expressed in plain text. It describes what commit the change is based on, and what has changed. A basic patch looks like this:\n\n```\nFrom 92132241233033a123c4fa833449d6a0d550219c Mon Sep 17 00:00:00 2001\nFrom: Bob \u003cbob@example.com\u003e\nDate: Tue, 25 May 2009 15:42:16 +0200\nSubject: [PATCH 1/2] first change\n\n---\n test.txt |    1 +-\n 1 files changed, 1 insertions(+), 1 deletions(-)\n\ndiff --git a/test.txt b/test.txt\nindex 7634da4..270eb95 100644\n--- a/test.txt\n+++ b/test.txt\n@@ -1 +1 @@\n-Hallo Bob\n+Hallo Alice!\n```\n\nAs you can see, it is very readable for both the reviewer and the machine.\n\n## Sending and receiving patches\n\nThe easiest way you can generate a patch from a commit is to use `git-format-patch`:\n\n```\ngit format-patch HEAD^\n```\n\nThis will generate a `.patch` file, that can be embedded into an email and sent to the maintainers. Oftentimes they will then reply to your mail with some inline comments about your code.\n\nTo simplify this process further, git has the `send-email` command, which let's you send the patch directly to someone without needing to embed it manually. I won't go into details about this, but there is a [well written guide](https://git-send-email.io/) on how to set it up.\n\nIf you have received a patch from someone, you can apply it to your tree with the `am` (apply mail) command:\n\n```\ngit am \u003c 0001-first-change.patch\n```\n\ncheck your `git log` to see the patch in form of the latest commit.\n\n## Why even bother\n\nYou might think that this is just a silly and outdated approach to collaborative development. \"Why not simply open a pull request?\" you might ask. Some projects, especially low-level oriented ones like the Linux kernel, do not want to rely on third-party platforms like GitHub to host their code, with good reasons:\n\n1. Everyone can participate! You don't need to register an account on some proprietary website to collaborate in a project that uses a patch-based workflow. You don't even have to expose your identity, if you don't want to. All you need is an email-address, and frankly most of us have one.\n2. It's plain simple! Once you get used to generating and applying patches on the command line, it is in fact easier and faster than opening a pull request in some clunky GUI. It doesn't get simpler than plain text.\n3. It is rewarding! Once you have submitted a patch to a project, there is no better feeling than getting a simple \"Applied, thanks!\" response from a maintainer. And if it's a response that contains feedback rather than an approval, it feels even better to submit that reworked code again and get it eventually applied.\n\n## Conclusion\n\nThe patch-based workflow is an alternative way to collaborate with developers. If it helps you in your day to day business depends on the projects you are contributing to, but in the end it is always good to have many tools under your belt.\n"},"__N_SSG":true},"page":"/posts/[post]","query":{"post":"patch-based-git-workflow"},"buildId":"wGhLZpAsSjmigjMgtbqia","assetPrefix":"https://blog.garrit.xyz","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="https://blog.garrit.xyz/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="https://blog.garrit.xyz/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/pages/_app-b4e5177aa9e4067f692d.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/114a5b995a4f3b29491ffc28eee0889be38452e1.eae47726751bceed5de4.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/pages/posts/%5Bpost%5D-23f93f8092d4edb56596.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/wGhLZpAsSjmigjMgtbqia/_buildManifest.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/wGhLZpAsSjmigjMgtbqia/_ssgManifest.js" async=""></script></body></html>