<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1" class="jsx-780832039"/><meta charSet="utf-8" class="jsx-780832039"/><title class="jsx-780832039">Flutter Web - the Good, the Bad and the Ugly</title><meta name="Description" content="Random thoughts, tips and rants about software" class="jsx-780832039"/><link rel="icon" type="image/svg+xml" href="/favicon.svg" class="jsx-780832039"/><script async="" defer="" data-domain="blog.garrit.xyz" src="https://analytics.slashdev.space/js/plausible.js" class="jsx-780832039"></script><meta name="next-head-count" content="6"/><noscript data-n-css="true"></noscript><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/pages/_app-b4e5177aa9e4067f692d.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/114a5b995a4f3b29491ffc28eee0889be38452e1.ed92c5acc8eeb9ea6004.js" as="script"/><link rel="preload" href="https://blog.garrit.xyz/_next/static/chunks/pages/posts/%5Bpost%5D-a26bc14f91a05c730dde.js" as="script"/><style id="__jsx-780832039">@import url("https://fonts.googleapis.com/css?family=Work+Sans&display=swap");*{box-sizing:inherit;}html{box-sizing:border-box;overflow-y:scroll;}body{margin:0;font-family:"Work Sans","Helvetica Neue",Helvetica,sans-serif;overflow-x:hidden;color:#000;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}a{-webkit-text-decoration:none;text-decoration:none;color:inherit;-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;}a:hover{-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;opacity:0.5;-webkit-text-decoration-color:inherit;text-decoration-color:inherit;}ul{list-style:none;margin:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;list-style-position:outside;list-style-image:none;}ol{margin:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;list-style-position:outside;list-style-image:none;}ul,ol,p{margin-bottom:1.45rem;}img{max-width:100%;}img,figure,table,fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.42;background:hsla(0,0%,0%,0.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem;}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}strong{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li>ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li>ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li>p{margin-bottom:calc(1.45rem / 2);}code{line-height:1.45rem;}p code{background:hsla(0,0%,0%,0.1);padding:0 0.4rem;}@media (prefers-reduced-motion){*{-webkit-transition:none !important;transition:none !important;}}h1,h2,h3,h4,h5,h6,p{font-family:"Work Sans","Helvetica Neue",Helvetica,sans-serif;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;text-rendering:optimizeLegibility;}h1,h2{font-weight:500;}h1{font-size:2rem;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1.1875;}h2{font-size:1.7rem;-webkit-letter-spacing:-0.75px;-moz-letter-spacing:-0.75px;-ms-letter-spacing:-0.75px;letter-spacing:-0.75px;line-height:1.2;}h3{font-size:1.2rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.1875;color:#a0a0a0;font-weight:normal;}p{font-size:1.2rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.5;color:#464646;}@media (min-width:1280px){h1{font-size:2rem;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1.1875;}h2{font-size:1.5rem;-webkit-letter-spacing:-0.75px;-moz-letter-spacing:-0.75px;-ms-letter-spacing:-0.75px;letter-spacing:-0.75px;line-height:1.1667;}h3{font-size:1rem;-webkit-letter-spacing:-0.5px;-moz-letter-spacing:-0.5px;-ms-letter-spacing:-0.5px;letter-spacing:-0.5px;line-height:1.1875;color:#a0a0a0;font-weight:normal;}p{line-height:1.4375;}}.blog__body a,.blog__footer a{-webkit-text-decoration:underline;text-decoration:underline;}@media (prefers-color-scheme:dark){:root{background-color:#161618;color:#dbd7db;}html{-webkit-scrollbar-color:#dbd7db #161618 !important;-moz-scrollbar-color:#dbd7db #161618 !important;-ms-scrollbar-color:#dbd7db #161618 !important;scrollbar-color:#dbd7db #161618 !important;}h1,h2,h3,h4,p,pre,a,ul,li,blog__body>*{color:#dbd7db;}.button__link{background-color:#67676c;}a{color:#dbd7db;}}</style><style id="__jsx-1881191552">h1.jsx-1881191552{margin-bottom:0;}h1.jsx-1881191552:hover{cursor:pointer;}nav.jsx-1881191552{padding:1.5rem 1.25rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:768px){.header.jsx-1881191552{height:100vh;position:fixed;left:0;top:0;}.nav.jsx-1881191552{padding:2rem;width:30vw;height:100%;border-bottom:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><style id="__jsx-1347931467">.blog.jsx-1347931467 h1.jsx-1347931467{margin-bottom:0.7rem;}.blog__hero.jsx-1347931467{min-height:300px;height:60vh;width:100%;margin:0;overflow:hidden;}.blog__hero.jsx-1347931467 img.jsx-1347931467{margin-bottom:0;object-fit:cover;min-height:100%;min-width:100%;object-position:center;}.blog__info.jsx-1347931467{padding:1.5rem 1.25rem;width:100%;max-width:768px;margin:0 auto;}.blog__info.jsx-1347931467 h1.jsx-1347931467{margin-bottom:0.66rem;}.blog__info.jsx-1347931467 h3.jsx-1347931467{margin-bottom:0;}.blog__body.jsx-1347931467{width:100%;padding:0 1.25rem;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.blog__body.jsx-1347931467 a.jsx-1347931467{padding-bottom:1.5rem;}.blog__body.jsx-1347931467:last-child{margin-bottom:0;}.blog__body.jsx-1347931467 h1.jsx-1347931467 h2.jsx-1347931467 h3.jsx-1347931467 h4.jsx-1347931467 h5.jsx-1347931467 h6.jsx-1347931467 p.jsx-1347931467{font-weight:normal;}.blog__body.jsx-1347931467 ul.jsx-1347931467{list-style:initial;}.blog__body.jsx-1347931467 ul.jsx-1347931467 ol.jsx-1347931467{margin-left:1.25rem;margin-bottom:1.25rem;padding-left:1.45rem;}.blog__footer.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1.5rem 1.25rem;width:100%;max-width:800px;margin:0 auto;}.blog__footer.jsx-1347931467 h2.jsx-1347931467{margin-bottom:0;}.blog__footer.jsx-1347931467 a.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.blog__footer.jsx-1347931467 a.jsx-1347931467 svg.jsx-1347931467{width:20px;}@media (max-width:768px){.blog__footer.jsx-1347931467{display:none;}}@media (min-width:768px){.blog.jsx-1347931467{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.blog__body.jsx-1347931467{max-width:800px;padding:0 2rem;}.blog__body.jsx-1347931467 span.jsx-1347931467{width:100%;margin:1.5rem auto;}.blog__body.jsx-1347931467 ul.jsx-1347931467 ol.jsx-1347931467{margin-left:1.5rem;margin-bottom:1.5rem;}.blog__hero.jsx-1347931467{min-height:600px;height:75vh;}.blog__info.jsx-1347931467{text-align:center;padding:2rem 0;}.blog__info.jsx-1347931467 h1.jsx-1347931467{max-width:500px;margin:0 auto 0.66rem auto;}.blog__footer.jsx-1347931467{padding:2.25rem;}}@media (min-width:1440px){.blog__hero.jsx-1347931467{height:70vh;}.blog__info.jsx-1347931467{padding:3rem 0;}.blog__footer.jsx-1347931467{padding:2rem 2rem 3rem 2rem;}}</style><style id="__jsx-3553209867">img.jsx-3553209867{width:12rem;}Link.jsx-3553209867{margin:1rem;}@media (max-width:767px){.profile.jsx-3553209867{padding:1.5rem 1.25rem;}}</style><style id="__jsx-3605278554">.layout.jsx-3605278554{overflow-x:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.layout.jsx-3605278554 .info_page.jsx-3605278554{color:#ebebeb;}.content.jsx-3605278554{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}@media (min-width:768px){.layout.jsx-3605278554{display:block;}.content.jsx-3605278554{-webkit-box-flex:none;-webkit-flex-grow:none;-ms-flex-positive:none;flex-grow:none;width:70vw;margin-left:30vw;}}</style></head><body><div id="__next"><section class="jsx-3605278554 layout"><header class="jsx-1881191552 header"><nav role="navigation" aria-label="main navigation" class="jsx-1881191552 nav"><a class="jsx-1881191552" href="/"><h1 class="jsx-1881191552">~/garrit</h1></a></nav></header><div class="jsx-3605278554 content"><article class="jsx-1347931467 blog"><div class="jsx-1347931467 blog__info"><h1 class="jsx-1347931467">Flutter Web - the Good, the Bad and the Ugly</h1><h3 class="jsx-1347931467">Feb 17 2021</h3></div><div class="jsx-1347931467 blog__body"><p>These are some notes I took for the evaluation of Flutter web for a potential project at work. I decided to build a frontend for <a href="https://miniflux.app/">Miniflux</a>, since I figured it may enclose many pitfalls an application could potentially have. You can find the current prototype <a href="https://github.com/garritfra/FlutterFlux">here</a>.</p><h2>The Good</h2><ul><li><p><strong>Trivial to set up</strong>: Running a Flutter application in a browser, no matter if it is an existing app or a fresh project, can be done by simply specifying the -d chrome flag.</p></li><li><p><strong>Same behavior compared to mobile app</strong>: Since the app is quite literally a mobile application running in the browser, the page looks and feels like a mobile application. It gives the app a consistent look and feel across all devices. I can imagine this coming in handy for web applications that are primarily used on phones and tablets.</p></li><li><p><strong>Browser API integration</strong>: It seems like many of the libraries make use of Web APIs. For example: I was able to get location updates using the location package, and store data using <a href="https://pub.dev/packages/localstorage">localstorage</a>. Whether the Web target is supported, is noted as a flag in the package documentation.</p></li><li><p><strong>Alternative Backends</strong>: There are two <a href="https://flutter.dev/docs/development/tools/web-renderers">rendering backends</a>, both with its own benefits and drawbacks. The HTML renderer optimizes the page for the browser, which improves performance at the cost of consistency. The CanvasKit renderer renders WebGL using WebAssembly. This gives a consistent look and feel across all devices, at the cost of Performance and download size. If auto is specified, the renderer will be determined based on the device type. Here’s a comparison of the same app rendered with both backends:</p></li></ul><table><thead><tr><th style="text-align:center">HTML</th><th style="text-align:center">CanvasKit</th></tr></thead><tbody><tr><td style="text-align:center"><img src="/assets/flutter_web_renderer_html.png"/></td><td style="text-align:center"><img src="/assets/flutter_web_renderer_canvaskit.png"/></td></tr></tbody></table><h2>The Bad</h2><ul><li><p><strong>Still in Beta</strong>: Flutter web requires the developer to use the beta channel of Flutter. I didn’t encounter any issues, but it could be that some features are unstable.</p></li><li><p><strong>No native HTML (With an exception)</strong>: Flutter Web renders the application into its own container, which is not using semantic HTML. The resulting application is also not debuggable using standard web-dev tools, but flutters debugging features can be used. There is a workaround though. Using the <a href="https://pub.dev/packages/easy_web_view">easy_web_view</a> package, I was able to embed html components as flutter widgets. The embedded code is actual HTML code that the browser itself is rendering, not Flutter. This solution is cross-platform, meaning that it also works flawlessly for mobile builds of the application. This might come in handy if the project demands to embed a javascript component like a video player. This approach could technically also improve SEO, but I’m unsure how a full-blown application only using this approach would behave.</p></li></ul><h2>The Ugly</h2><ul><li><p><strong>Scrolling feels sluggish</strong>: The scrolling behavior is implemented by flutter itself and does not feel as smooth as the native scrolling behavior of modern browsers.</p></li><li><p><strong>SEO nearly impossible</strong>: Since the application is a SPA and it is not using semantic HTML, it’s very difficult to do any kind of SEO. Lighthouse rated the demo application with a perfect 100 for SEO, but this is probably because it is only aware of the html that surrounds the flutter container. I didn’t find a way to Inject Metatags on a per-site basis.</p></li><li><p><strong>Heavy and slow on old devices</strong>: Even a basic application like the Todo app is very heavy and slow when compared to a “regular” website.</p></li></ul><h2>Conclusion</h2><p>Flutter Web seems to be a viable candidate to build truly cross-platform applications. Adding Web as a target for existing Flutter mobile apps should be relatively easy. The layout will probably need to be optimized to get the full experience. Native Web APIs seem to be well supported and documented.</p><p>The resulting web application is a PWA running inside a container. It is relatively heavy and requires much more resources to run, when compared to a “regular” web application.</p><p>I hope you found this useful!</p><p>This is post 012 of <a href="https://100daystooffload.com/">#100DaysToOffload</a>.</p><p class="jsx-1347931467">If you enjoyed this post, consider<!-- --> <a href="https://donate.slashdev.space" class="jsx-1347931467">buying me a coffee</a>! Got comments? Send me a<!-- --> <a href="mailto:garrit@slashdev.space" class="jsx-1347931467">Mail</a>, or shoot me a message on<!-- --> <a href="https://matrix.to/#/@garrit:matrix.slashdev.space" class="jsx-1347931467">Matrix</a>.</p></div><div class="jsx-1347931467 blog__footer"><h2 class="jsx-1347931467">Written By: Garrit Franke</h2></div></article></div><div class="jsx-3553209867 profile"><h2 class="jsx-3553209867">Garrit Franke</h2><p class="jsx-3553209867">Random thoughts, tips and rants about software</p><br class="jsx-3553209867"/><a href="https://garrit.xyz/">Website</a><br class="jsx-3553209867"/><a href="https://github.com/garritfra">Github</a><br class="jsx-3553209867"/><a href="https://www.linkedin.com/in/garritfranke">LinkedIn</a><br class="jsx-3553209867"/><a href="mailto:garrit@slashdev.space">Email</a><br class="jsx-3553209867"/><a href="https://matrix.to/#/@garrit:matrix.slashdev.space">Matrix</a><br class="jsx-3553209867"/><a href="https://keyoxide.org/hkp/garrit@slashdev.space">PGP</a><br class="jsx-3553209867"/><a href="/rss.xml">RSS</a></div></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"siteTitle":"~/garrit","frontmatter":{"title":"Flutter Web - the Good, the Bad and the Ugly","date":"2021-02-17"},"markdownBody":"\nThese are some notes I took for the evaluation of Flutter web for a potential project at work. I decided to build a frontend for [Miniflux](https://miniflux.app/), since I figured it may enclose many pitfalls an application could potentially have. You can find the current prototype [here](https://github.com/garritfra/FlutterFlux).\n\n## The Good\n\n- **Trivial to set up**: Running a Flutter application in a browser, no matter if it is an existing app or a fresh project, can be done by simply specifying the -d chrome flag.\n\n- **Same behavior compared to mobile app**: Since the app is quite literally a mobile application running in the browser, the page looks and feels like a mobile application. It gives the app a consistent look and feel across all devices. I can imagine this coming in handy for web applications that are primarily used on phones and tablets.\n\n- **Browser API integration**: It seems like many of the libraries make use of Web APIs. For example: I was able to get location updates using the location package, and store data using [localstorage](https://pub.dev/packages/localstorage). Whether the Web target is supported, is noted as a flag in the package documentation.\n\n- **Alternative Backends**: There are two [rendering backends](https://flutter.dev/docs/development/tools/web-renderers), both with its own benefits and drawbacks. The HTML renderer optimizes the page for the browser, which improves performance at the cost of consistency. The CanvasKit renderer renders WebGL using WebAssembly. This gives a consistent look and feel across all devices, at the cost of Performance and download size. If auto is specified, the renderer will be determined based on the device type. Here’s a comparison of the same app rendered with both backends:\n\n|           HTML           |         CanvasKit         |\n| :----------------------: | :-----------------------: |\n| ![](/assets/flutter_web_renderer_html.png) | ![](/assets/flutter_web_renderer_canvaskit.png) |\n\n## The Bad\n\n- **Still in Beta**: Flutter web requires the developer to use the beta channel of Flutter. I didn’t encounter any issues, but it could be that some features are unstable.\n\n- **No native HTML (With an exception)**: Flutter Web renders the application into its own container, which is not using semantic HTML. The resulting application is also not debuggable using standard web-dev tools, but flutters debugging features can be used. There is a workaround though. Using the [easy_web_view](https://pub.dev/packages/easy_web_view) package, I was able to embed html components as flutter widgets. The embedded code is actual HTML code that the browser itself is rendering, not Flutter. This solution is cross-platform, meaning that it also works flawlessly for mobile builds of the application. This might come in handy if the project demands to embed a javascript component like a video player. This approach could technically also improve SEO, but I’m unsure how a full-blown application only using this approach would behave.\n\n## The Ugly\n\n- **Scrolling feels sluggish**: The scrolling behavior is implemented by flutter itself and does not feel as smooth as the native scrolling behavior of modern browsers.\n\n- **SEO nearly impossible**: Since the application is a SPA and it is not using semantic HTML, it’s very difficult to do any kind of SEO. Lighthouse rated the demo application with a perfect 100 for SEO, but this is probably because it is only aware of the html that surrounds the flutter container. I didn’t find a way to Inject Metatags on a per-site basis.\n\n- **Heavy and slow on old devices**: Even a basic application like the Todo app is very heavy and slow when compared to a “regular” website.\n\n## Conclusion\n\nFlutter Web seems to be a viable candidate to build truly cross-platform applications. Adding Web as a target for existing Flutter mobile apps should be relatively easy. The layout will probably need to be optimized to get the full experience. Native Web APIs seem to be well supported and documented.\n\nThe resulting web application is a PWA running inside a container. It is relatively heavy and requires much more resources to run, when compared to a “regular” web application.\n\nI hope you found this useful!\n\nThis is post 012 of [#100DaysToOffload](https://100daystooffload.com/).\n"},"__N_SSG":true},"page":"/posts/[post]","query":{"post":"2021-02-17-notes-on-flutter-web"},"buildId":"zHaH9JvG8xGBrhC_OcjvC","assetPrefix":"https://blog.garrit.xyz","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="https://blog.garrit.xyz/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="https://blog.garrit.xyz/_next/static/chunks/main-ceab71ff4af1e6f937e6.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/framework.1d36bc031662b4dc4c28.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/commons.cb82874e43d6dd0d0fae.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/pages/_app-b4e5177aa9e4067f692d.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/114a5b995a4f3b29491ffc28eee0889be38452e1.ed92c5acc8eeb9ea6004.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/chunks/pages/posts/%5Bpost%5D-a26bc14f91a05c730dde.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/zHaH9JvG8xGBrhC_OcjvC/_buildManifest.js" async=""></script><script src="https://blog.garrit.xyz/_next/static/zHaH9JvG8xGBrhC_OcjvC/_ssgManifest.js" async=""></script></body></html>